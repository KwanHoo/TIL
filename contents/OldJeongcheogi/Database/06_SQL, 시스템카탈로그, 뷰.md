# SQL, 시스템카탈로그, 뷰

## SQL (Structured Query Language) 특징

1. 관계대수와 관계해석을 기초로 한 고급 데이터 언어
2. 이해하기 쉬운 형태
3. 대화식 질의어를 사용가능
4. 데이터 정의, 조작, 제어 기능 제공
5. COBOL, C, PASCAL 등의 언어에 삽입 -> 내장 SQL
6. 레코드 집합 단위로 처리
7. DBMS에서 사용되는 비 절차적 대화형 언어

### SQL 예

- 테이블 생성

```SQL
CREATE TABLE 학과 (학과코드 CHAR(18), 학과명 CHAR(18));
```

- 자료(튜플)를 입력

```SQL
INSERT INTO 학과 VALUES ('A001', '정보');
```

- 자료 검색

```SQL
SELECT * FROM 학과;
```

- 자료 수정

```SQL
UPDATE 학과 SET (학과명 ='사무') WHERE 학과코드 ='A001';
```

- 자료 삭제

```SQL
DELETE FROM 학과;
```

- 테이블 삭제

```SQL
DROP TABLE 학과;
```

---

시스템 카탈로그

### 시스템 카탈로그(= 데이터 사전)

1. 시스템 자신이 필요로 하는 여러 가지 객체에 관한 정보를 포함하고 있는 시스템 db
2. 특징
   - 데이터베이스 시스템에 따라 상이한 구조를 가짐
   - 사용자도 sql을 이용하여 검색할 수 있음
   - 객체들로서는 기본 테이블, 뷰, 인덱스, 데이터베이스, 패키지, 접근 권한 등이 있음
   - 데이터 베이스 스키마에 대한 정보를 제공
   - 객체들에 대한 정의나 명세에 관한 정보를 유지관리하는 시스템
   - 데이터 디렉토리 : 데이터 사전에 수록된 데이터를 실제로 접근하는데 필요한 정보를 관리 유지하는 시스템 만이 접근할 수 있는 구역

### SQL 구분

1. DDL : CREATE, ALTER, DROP
2. DML : SELECT, INSERT, DELETE, UPDATE
3. DCL : GRANT, REVOKE, COMMIT, ROLLBACK

- DDL : 도메인, 테이블, 뷰, 인덱스를 정의, 변경, 제거하는 언어

* 참조 무결성 위배를 피하기 위한 2가지 옵션

  - CASECADE : 참조하는 테이블을 연쇄적으로 제거
  - RESTRICT : 참조하는 테이블이 있을 경우 제거 안됨 (생략 가능)
    - DELETE(삭제), UPDATE(갱신) 명령어도 옵션 사용

* 중복

  - DISTINCT : 검색 결과에서 중복 배제

* 그룹함수 GROUP BY : 그룹별 검색

  - COUNT(속성)
  - AVG(속성)
  - SUM(속성)
  - MAX(속성)
  - MIN(속성)

* SQL 수행 순서 : FROM -> WHERE -> GROUP BY -> HAVING -> SELECT -> ORDER BY

---

뷰

### 뷰

1. 정의 : 사용자에게 접근이 혀용된 자료만을 제한적으로 보여주기 위해서 하나 이상의 기본 테이블로부터 유도된 가상 테이블 (물리적 X, 논리적 O)

2. 특징 :

- 구조가 기본테이블과 거의 유사
- 물리적으로 구현되지 않음 (가상테이블)
- 논리적 독립성 제공
- 필요한 데이터로만 구성 -> 관리 수월, 명령 간단
- 데이터 보호 효율적 -> 자동 보안
- 삽입, 삭제, 갱신 연산이 가능하지만 제한적임
- 다른 view 정의에 기초
- 하나의 view를 삭제 -> 그 view를 기초로 만들어진 view도 자동 삭제
- 독립적인 인덱스를 가질 수 없음
- 뷰에 대한 검색은 일반 테이블과 같음
- **_view의 정의 변경 불가_** !!
