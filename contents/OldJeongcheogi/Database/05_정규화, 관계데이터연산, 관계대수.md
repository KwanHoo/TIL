# 정규화, 관계데이터연산, 관계대수

## 정규화

- 정규화를 하는 이유는 데이터의 중복을 방지하고 보다 효율적으로 데이터를 저장하기 위함
- 릴레이션 분리 -> 삽입, 삭제, 갱신 이상의 발생 가능성을 줄이는 것

- 단점 : 연산 시간이 증가됨

### 제 1정규형 (1NF)

- 반복되는 속성을 제거한 뒤 모든 속성이 원자 도메인 만으로 되어 있는 정규형
- 제 1정규형에 위배되는 테이블 (중복발생 -> 공간 낭비, 이상 발생 -> 무결성 위배 가능)

### 이상 (anomaly)

- 중복 -> 이상 -> 정규화(분리)
- 릴레이션에서 일부 속성들의 종속으로 인해 데이터의 중복이 발생하여 테이블 조작 시 불일치가 발생하는 것

1. 갱신 이상 : 반복된 데이터 중에 일부만 수정하면 데이터의 불일치가 발생
2. 삽입 이상 : 불필요한 정보를 함께 저장하지 않고는 어떤 정보를 저장하는 것이 불가능
3. 삭제 이상 : 유용한 정보를 함께 삭제하지 않고는 어떤 정보를 삭제하는 것이 불가능

### 제 2정규형 (2NF)

- 제 1정규형이고, **_부분함수적 종속을 제거_** 하여 완전(충분한) 함수적 종속을 만족하는 정규형

1. 함수적 종속
2. 부분 / 완전 함수적 종속

### 제 3정규형 (3NF)

- 제 2정규형이고, **_이행적 함수적 종속 관계 제거하여_** 비이행적 함수적 종속 관계를 만족하는 정규형

### BCNF (Boyce/Codd Normal Form)

- 제 3정규형이고, **_결정자가 후보자가 아닌 함수 종속 제거_** 모든 결정자가 후보키이어야 한다는 것

### 제 4정규형 (4NF)

- 다치 종속 제거

### 제 5정규형 (5NF)

- 조인 종속성 이용

### 정규화 절차

[비정규화 테이블] -> 반복 속성 제거, 모든 속성이 원자값을 가짐 \
-> [제 1정규형] -> 부분 함수적 종석 제거, 키가 아닌 모든 속성이 기본키 그룹에 완전하게 함수적 종속 \
-> [제 2정규형] -> 이행적 함수적 종속 제거, 키가 아닌 모든 속성이 기본키에 직접 종속 (비이행적) \
-> [제 3정규형] -> 후보키가 아닌 결정자 제거, 모든 결정자가 후보키 \
-> [BCNF] -> 다치종속 제거 \
-> [제 4정규형] -> 조인 종속성 이용 \
-> [제 5정규형]

### 정규화 특징

- 정규화는 논리적 처리 및 품질에 큰 영향을 미침
- 정규화의 목적은 논리적 DB 구조상에 있어 삽입, 수정 그리고 삭제 결과 생기는 이상현상(anomaly)를 제거하는데 있음
- 레코드들의 관련 속성들 간의 종속성을 최소화하기 위한 구성 기법임
- 정규화가 잘못되면 데이터의 불필요한 중복을 야기하여 릴레이션 조작시 문제를 일으킴

---

관계데이터연산

### 관계데이터 연산

- 기본적으로 관계 해석과 관계 대수는 관계 데이터베이스를 처리하는 기능과 능력면에서 동등함
- 관계 해석으로 표현한 식은 관계대수로 표현할 수 있음

#### 관계 대수

1. 절차적 언어(절차 중심)
   - 원하는 정보를 '어떻게' 유도하는가를 연산자와 연산규칙 이용하여 기술
2. 분류 : 순수 관계 연산자, 일반 집합 연산자
3. SQL의 이론적인 기초

#### 관계 해석

1. 비절차적 언어(결과 중심)
   - 원하는 정보가 '무엇'이라는 것만 정의
2. 분류 : 튜플 관계 해석과 도메인 관계 해석

---

관계대수

### 관계대수 종류

1. 순수 관계 연산자 : SELECT, PROJECT, JOIN, DIVISION
2. 일반 집합 연산자 : 합집합, 교집합, 차집합, 카티션프로덕트

참고 : 기사퍼스트 복습
