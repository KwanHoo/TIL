# _JSP 기초 문법_

## 01 JSP의 스크립트(script)

- 선언문(Declaration)
- 스크립트(Scrptlet)
- 표현식(expression)
- 주석(comment)

## 02 선언문 (declaration)

- 선언문 : JSP에서 사용될 변수나 메소드를 선언할 수 있는 영역의 요소를 의미함
  - JSP 페이지 내에서 변수 및 메소드를 선언 하고 선언된 변수나 메소드를 이용하여 필요한 동적으로 HTML 코드를 생성하는데 사용하는 것임
- 선언문에서 선언된 변수를 ‘멤버변수’라고 부름
- 스크립트릿 요소는 이러한 변수를 선언할 수 있는 영역이지만 멤버 변수가 아니라 지역 변수라는 차이가 있음
- 멤버변수 : 클래스 안에 선언을 해야하고 선언해 주는 방식은 데이터 형과 변수명을 선언해야함
  - 초기화 값을 지정하지 않으면 JVM이 자동적으로 자바 기본형 타입으로 null값을 자동 세팅 해줌

선언문 문법

```java
<%!
	declaration zone
%>
```

멤버 변수 선언

- 선언문에서 선언된 변수는 JSP페이지가 서블릿 코드로 변환이 되면 서블릿 클래스의 멤버변수가 됨

```java
<%!
 String name = "JSPStudy";
	int year = 2400;
%>
```

- 위에 선언된 두개의 변수는 JSP 페이지 어느 곳에서든지 이 변수의 값을 참조하여 동적으로 HTML을 생성하도록 JSP 프로그래밍을 할 수 있는 것임

메소드 선언

```java
<%!
	String name = "Korea";
	public String getName() {
		return name;
	}
%>
```

## 03 스크립트릿

- Scriptlet 요소는 가장 일반적으로 많이 사용되는 스크립트 요소로 JSP 페이지가 서블릿으로 변환되고 요청될 때 \_.jspService(Tomcat 기준으로 설명) 메소드 안에 선언이 되는 요소임
- 스크립트릿은 선언문과 달리 선언된 변수는 지역 변수로 선언이 되고 메소드 선언은 할 수가 없음
- 만약 선언을 하게 되면 메소드 안에 메소드를 선언한 것이기 때문에 만들 수가 없음
  - 메소드 안에 선언된 변수를 지역변수라고함
  - 지역 변수는 초기화가 자동으로 일어나지 않으므로 코드에서 초기화를 하지 않고 이 변수를 참조하게 되면 컴파일 에러가 발생됨
  - 선언된 메소드 내에서만 사용되며 그 외의 메소드에서는 참조 할 수 없는 변수임

```java
<%
	javacode insert zone
%>
```

## 04 표현식(expression)

- 표현식은 말 그대로 동적인 JSP 페이지를 브라우저로 표현을 하기 위한 요소임
- 표현식은 변수를 출력하거나 메소드의 결과값을 브라우저에 출력할 수 있음
- 스크립트릿 코드 내에서 out이라는 내장객체를 통해서 브라우저에 출력도 가능함
- 표현식에서는 스크립트릿과 달리 변수나 메소드를 출력하고 할때는 세미클론은 표기하지 않음
  - 내부적으로 서블릿 코드로 변환될 때 자동적으로세미클론이 붙여지기 떄문임

```java
<%=variableEX or mothodEX%>
```

```java
<%!
	String name[] = {"Java", "JSP", "Android", "Struts"};
%>
<% for (int i();i<name.length;i++){%>
...
<%}%>
```

- 배열의 값을 초기화하는 예시
- for구문을 이용하여 배열의 길이 만큼 루프를 돌면서 배열의 값을 표현식을 사용하여 출력함

```java
<%
	 java.util.Date date = new java.util.Date();
	int hour = date.getHours();
	int one = 10;
int two = 12;
%>
<%!
	public int operation(int i, int j){
	return i>j ? i : j;
	}
%>
```

- 삼항 연산자 : ( A ? B : C)
  - A가 true 이면 B리턴, false이면 C 리턴

## 05 주석

HTML 형식의 주석

```html
<!-- Fighting <%=name%> -->
```

- 소스 보기에서 보임

JSP 형식의 주석

```java
<%-- Fighting <%=name%> --%>
```

- 소스 보기에서 보이지 않음

+) 참고

Wrapper 클래스란?

- 자바에서는 데이터 형 종류가 두 가지가 있음
  - 8개의 기본형 데이터(int….)
  - 참조형 데이터(일반적인 클래스형…)
- 가령 숫자 1과 문자 ‘1’ 은 프로그램에서 전혀 다르게 취급이 됨
  - 하지만 경우에 따라서 이 둘은 서로 변환이 되어야 하는 경우가 생기며 이때 필요한 클래스가 바로 Wrapper 클래스임
- ex) Interger.parseInt(s);
  - 문자열s를 정수값으로 변환하는 예시

## Summery

- 선언문 : JSP 페이지 안에서 필요한 변수(멤버 변수) 나 메소드 선언이 필요할 때 쓰이는 요소임
- 스크립트릿 : JSP 페이지가 서블릿으로 변환되고 이 페이지 요청될 때 호출되는 메소드 안에 자바 코드를 삽입하기 위한 요소임
- 표현식 : JSP 페이지의 코드 부분을 브라우저로 표현하기 위한 요소임
- 주석 : 소스 분석 내용 및 파일 설명 처리를 위한 요소임

---
