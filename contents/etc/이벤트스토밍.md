# 이벤트 스토밍

## DDD : Domain-Driven Design

- 실제 코드로 구현 가능한 현실성 있는 도메인 모델 분석과 그것을 추상화하는 설계
- 도메인 모델의 적용 범위를 구현까지 확장하여 도메인 지식을 구현 코드에 반영
- 도메인 : 소프트웨어로 해결하고자 하는 영역

### Event Storming

- 복잡한 비즈니스 도메인을 빠르게 탐색하고 학습할 수 있는 방법
- 코드로 소통하지 않고 모든 사람이 공통된 도메인 이해를 가지도록 하는 방법임

- 포스트잇 색상으로 개념들을 구분하고 해당 개념에 따라 포스트잇을 붙여가면서 도메인 이해를 해나가는 방법임

- 주황색 : '도메인 이벤트', 서비스에서 발생할 수 있는 도메인별 이벤트
- 노란색 : '액터', 단순한 사용자, 고객보다 구체적인 페르소나
- 파란색 : '액션', 시스템에서 일어나는 일, 도메인 이벤트가 발생하는 원인
- 초록색 : '정보', 액터가 액션을 실행하는 데에 필요한 정보
- 보라색 : '정책', 도메인 이벤트와 ㅇ개션 사이에 위치해서 '주로 ~할 때마다'로 시작하는 정책

### 이벤트 스토밍 진행 방식

- 준비물은 큰 종이나 큰 화이트보드, 포스트잇과 펜 정도면 됨

- 회사나 프로젝트마다 진행하는 방식은 다를 수 있으나 포스트잇의 색상의 의미와 개념은 비슷함

#### 진행방법

- 벽에 커다란 종이를 붙여 놓고 그 위에 포스트잇을 붙여 나감
- 모든 사람의 생각을 허용하고 존중함
- 비즈니스 프로세스를 이해하는 데에 초점을 맞춤

#### 왜 포스트잇?

- 가능한 가장 간단한 표기법을 사용하면 회의실에 있는 모든 사람이 적극적으로 참여할 수 있음
- 떼어 내고 붙이기가 쉽기 때문에 이동이 가능하며 틀린 경우에도 뗄 수 있어 부담을 줄일 수 있음
- 구현 코드보다 포스트잇을 변경하는 것이 훨씬 저렴함

#### 1단계 : 혼란스러운 탐험

- 각자가 알고 있는 도메인 이벤트를 작성하도록 요청
- 각자가 작성한 이벤트는 볼 수 있지만, 토론을 시작하지 말고 자신이 옳다고 생각하는 방식으로 기록함

##### 도메인 이벤트 - 주황색

- 도메인 전문가가 관심이 있는 어떤 사건
- 이벤트 이름은 과거에 일어났던 일을 표현하기 때문에 과거 시제를 사용함
- 이벤트가 발생한다는 것은 상태가 변경되었다는 것을 의미함

#### 2단계 : 타임라인 적용 및 정리 & 토론 시작

- 모든 도메인 이벤트를 올바른 타임라인으로 정렬하고 실제로 중복되는 이벤트를 제거함
- 시간은 왼쪽에서 오른쪽으로 흐르고 위에서 아래로 평행한 시간을 표현할 수 있음

##### 핫 스폿 - 자주색

- 2단계에서 발생한 갈등을 시각화 하고 캡처하는데 사용함
- 당장 토론하지 않음
- 나중에 문제가 해결되면 제거함

##### 액터와 시스템 - 노란색과 분홍색

- 단순한 '사용자' 또는 '고객'보다 구체적인 페스로나를 설정함
- 외부 시스템부터 일부 레거시 및 마이크로 서비스에 이르기까지 책임을 전가할 수 있는 모든 것

##### 바운디드 컨텍스트

- 같은 용어라도 의미가 다르고 같은 대상이라도 지칭하는 용어가 다를 수 있음
- 명백한 언어 불일치는 종종 동일한 프로세스 내에서 여러 개의 바운디드 컨텍스트를 나타내는 지표임

##### 커맨드 또는 액션 - 파란색

- 시스템에서 일어나는 일
- 도메인 이벤트가 발생하는 원인

##### 리드 모델 또는 정보 - 초록색

- 결정을 내리는 데 필요한 정보

##### 애그리게잇 또는 비즈니스 규칙 - 연노란색

- 시스템이 기대하는 책임을 수행하며 일관성을 유지하는 단위
- 일관성은 항상 참이어야 하는 속성을 유지함으로써 달성됨

[참고 영상](https://www.youtube.com/watch?v=hUcpv5fdCIk&t=133s)
[참고 포스팅](https://ksh-coding.tistory.com/103)
